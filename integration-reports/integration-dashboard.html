<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Integration Report Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f4; }
    h1, h2, h3 { color: #333; }
    .section { background: #fff; padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    ul { padding-left: 20px; }
    code { background: #eee; padding: 2px 5px; border-radius: 4px; }
    .used { color: green; }
    .unused { color: red; }
  </style>
</head>
<body>

  <h1>üîç Integration Report Dashboard</h1>

  <div class="section">
    <h2>UI Components</h2>
    <p><strong>Total:</strong> <span id="ui-total"></span></p>
    <p><strong>Used:</strong> <span class="used" id="ui-used-count"></span></p>
    <p><strong>Unused:</strong> <span class="unused" id="ui-unused-count"></span></p>
    <ul id="ui-unused-list"></ul>
  </div>

  <div class="section">
    <h2>Firebase API Usage</h2>
    <div id="firebase-usage"></div>
  </div>

  <div class="section">
    <h2>Firestore Collections</h2>
    <ul id="firestore-collections"></ul>
  </div>

  <script>
    fetch('integration-report.json')
      .then(res => res.json())
      .then(data => {
        document.getElementById('ui-total').textContent = data.uiComponents.total;
        document.getElementById('ui-used-count').textContent = data.uiComponents.used.length;
        document.getElementById('ui-unused-count').textContent = data.uiComponents.unused.length;

        const unusedList = document.getElementById('ui-unused-list');
        data.uiComponents.unused.forEach(comp => {
          const li = document.createElement('li');
          li.textContent = comp;
          unusedList.appendChild(li);
        });

        const firebaseUsage = document.getElementById('firebase-usage');
        Object.entries(data.firebaseUsage).forEach(([api, files]) => {
          const div = document.createElement('div');
          div.innerHTML = `<h3>${api}</h3><ul>` + files.map(f => `<li><code>${f}</code></li>`).join('') + '</ul>';
          firebaseUsage.appendChild(div);
        });

        const colList = document.getElementById('firestore-collections');
        data.firestoreCollections.forEach(col => {
          const li = document.createElement('li');
          li.innerHTML = `<code>${col}</code>`;
          colList.appendChild(li);
        });
      });
  </script>

</body>
</html>
